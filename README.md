# Messenger

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —á–∏—Å—Ç–æ–º TypeScript —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ Handlebars –∏ —Å–±–æ—Ä—â–∏–∫–∞ Vite.  
–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ **"–ú–∏–¥–ª-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫" –æ—Ç –Ø–Ω–¥–µ–∫—Å –ü—Ä–∞–∫—Ç–∏–∫—É–º–∞**.

## üéØ Sprint 4 - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

- ‚úÖ **Jest —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–∫—Ä—ã—Ç–∏–µ —Ä–æ—É—Ç–µ—Ä–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ HTTP –º–æ–¥—É–ª—è
- ‚úÖ **Pre-commit —Ö—É–∫–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- ‚úÖ **–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ **CI/CD –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫

## üé® –î–∏–∑–∞–π–Ω

–ú–∞–∫–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: [Figma](https://www.figma.com/design/q6ALe9fipHxAYiV6ToS2Vp/Chat_design?node-id=12-35&t=z4eEVMzexzEChXg2-1)

## üì¶ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥  
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è, —Å–º–µ–Ω–∞ –∞–≤–∞—Ç–∞—Ä–∞  
- ‚úÖ –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞ —Å –Ω–∏–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)  
- ‚úÖ –õ–µ–Ω—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π + –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WebSocket –¥–ª—è real-time  
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∞  
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º  
- ‚úÖ –†–æ—É—Ç–∏–Ω–≥ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (`Router` + `Route`)  
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º  
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–Ω–∞ `Block`)  
- ‚úÖ –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ PostCSS (nested, variables, preset-env)  
- ‚úÖ –õ–∏–Ω—Ç–∏–Ω–≥ CSS –∏ TypeScript (`stylelint`, `eslint`)  
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ `Handlebars`  

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Node.js** >= 18.0.0
- **npm** >= 9.0.0

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:3000`

### Production-—Å–±–æ—Ä–∫–∞
```bash
npm run build
npm run start
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm run test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:watch

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
```bash
# –õ–∏–Ω—Ç–∏–Ω–≥ TypeScript/JavaScript
npm run lint

# –õ–∏–Ω—Ç–∏–Ω–≥ CSS
npm run lint:css

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
npm run audit

# –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
npm run audit:fix
```

## üåê –î–µ–ø–ª–æ–π

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ **Netlify**.  
**–°—Å—ã–ª–∫–∞:** [https://resilient-liger-f82a71.netlify.app](https://resilient-liger-f82a71.netlify.app)

## üìÑ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

| –ü—É—Ç—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| [`/`](https://resilient-liger-f82a71.netlify.app/) ‚Äî –í—Ö–æ–¥ |
| [`/sign-up`](https://resilient-liger-f82a71.netlify.app/sign-up) ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| [`/messenger`](https://resilient-liger-f82a71.netlify.app/messenger) ‚Äî –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ |
| [`/user-profile`](https://resilient-liger-f82a71.netlify.app/user-profile) ‚Äî –ü—Ä–æ—Ñ–∏–ª—å (–ø—Ä–æ—Å–º–æ—Ç—Ä) |
| [`/settings`](https://resilient-liger-f82a71.netlify.app/settings) ‚Äî –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è |
| [`/edit-password`](https://resilient-liger-f82a71.netlify.app/edit-password) ‚Äî –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è |
| [`/404`](https://resilient-liger-f82a71.netlify.app/404) ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ 404 |
| [`/500`](https://resilient-liger-f82a71.netlify.app/500) ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ 500 |

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫
- **TypeScript** ^5.7.2 - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Handlebars** ^4.7.8 - —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä
- **Vite** ^6.0.1 - —Å–±–æ—Ä—â–∏–∫ –∏ dev-—Å–µ—Ä–≤–µ—Ä
- **PostCSS** ^8.4.49 - –æ–±—Ä–∞–±–æ—Ç–∫–∞ CSS (`nested`, `preset-env`, `autoprefixer`)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- **Jest** ^29.7.0 - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **ts-jest** ^29.2.5 - TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è Jest
- **jest-environment-jsdom** ^29.7.0 - DOM –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **ESLint** ^8.57.0 - –ª–∏–Ω—Ç–∏–Ω–≥ JavaScript/TypeScript
- **Stylelint** ^16.10.0 - –ª–∏–Ω—Ç–∏–Ω–≥ CSS
- **Husky** ^9.1.7 - Git —Ö—É–∫–∏
- **lint-staged** ^15.2.10 - –∑–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–æ–≤ –Ω–∞ staged —Ñ–∞–π–ª–∞—Ö

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Custom Router –∏ EventBus** - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ—É—Ç–∏–Ω–≥–∞
- **REST API** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —á–∞—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **WebSocket** - —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Component-based architecture** - –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ Block

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –º–æ–¥—É–ª–µ–π:

- **`src/core/router.test.ts`** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞
- **`src/api/http.test.ts`** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP –º–æ–¥—É–ª—è
- **`src/components/button/button.test.ts`** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Pre-commit —Ö—É–∫–∏
–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:
- ‚úÖ TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- ‚úÖ ESLint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º
- ‚úÖ Stylelint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º  
- ‚úÖ Jest —Ç–µ—Å—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üîí –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç –ø–∞–∫–µ—Ç–æ–≤ (`npm audit`)
- üîí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ pre-commit —Ö—É–∫–∞—Ö

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ api/                    # HTTP –º–æ–¥—É–ª–∏ –∏ API
‚îÇ   ‚îú‚îÄ‚îÄ http.ts            # HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
‚îÇ   ‚îî‚îÄ‚îÄ http.test.ts       # –¢–µ—Å—Ç—ã HTTP –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ components/             # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ button/
‚îÇ       ‚îú‚îÄ‚îÄ button.ts      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ button.test.ts # –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ core/                   # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ router.ts          # –†–æ—É—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ router.test.ts     # –¢–µ—Å—Ç—ã —Ä–æ—É—Ç–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ route.ts           # –ú–∞—Ä—à—Ä—É—Ç
‚îÇ   ‚îî‚îÄ‚îÄ Block.ts           # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ pages/                  # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
```

## üöÄ CI/CD

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CI/CD —Å–∏—Å—Ç–µ–º–∞–º–∏:
- Pre-commit —Ö—É–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

---

[PR Sprint 3](https://github.com/ivan-artemev24/middle.messenger.praktikum.yandex/pull/3) | [PR Sprint 4](https://github.com/ivan-artemev24/middle.messenger.praktikum.yandex/pull/4)
